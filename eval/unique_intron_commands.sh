#!/usr/bin/env bash
# Commands run for finding accuracy stats for sets of introns unique to particular samples
# $1: path to samtools executable
# $2: path to dir containing 112 BED files generated by Flux Simulator with generate_bioreps.py
# $3: path to dir containing results of grab_112_sim_results.sh
# $4: path to dir containing results of commands generated by create_commands_for_all_sample_sims.sh
# Output: unique_results_local.tsv: matrix described in unique_introns.py for samples on which aligners were run individually
# unique_results_112.tsv: matrix described in unique_introns.py for Rail runs on 112 simulated samples analyzed together
pypy unique_introns.py --samtools $1 -t $2 -r $3 -a star rail tophat subjunc hisat >unique_results_local.tsv
pypy unique_introns.py --samtools $1 -t $2 -r $4/withfilter -a rail >unique_results_112_withfilter.tsv
pypy unique_introns.py --samtools $1 -t $2 -r $4/withoutfilter -a rail >unique_results_112_withfilter.tsv